<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width"/>
	<title>PRUEBA - CAPAS GEOJSON</title>
	<!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- FontAwesome CSS -->
	<script src="https://kit.fontawesome.com/ddfd024ef5.js" crossorigin="anonymous"></script>
	<!-- OpenLayers CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@main/dist/en/v7.0.0/legacy/ol.css"/>
    <link rel="stylesheet" href="./CSS/ol-layerswitcher.css" />
	<link rel="stylesheet" href="./CSS/ol-buttons.css" />
	<style>
		.navbar-brand{
			font-size: 22px;
		}
		
		.collapse ul li{
			font-size: 14px;
		}
		
		.sidebar{
			width: 17%;
			border: solid;
            background-color: #f1f1f1;
		}
		
		.sidebar .mb-3{
			margin: 15px 0px 0px;
			font-size: 20px;
		}
		
		.sidebar ul li{
			font-size: 14px;
		}

	</style>
  </head>
  <body class="d-flex flex-column">
  
	<!-- Barra de Navegación -->
	<nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand mx-auto fs-3">MAPA DE LA COMUNIDAD CAMPESINA DE CCONCCACCA Y SECTORES</a>
        </div>
    </nav>
    <!-- Contenido Principal -->
    <div class="container-fluid flex-grow-1">
        <div class="row h-100">
			
            <!-- Columna Central (Mapa) -->
            <div class="right-section">
                <div id="map"></div>
				
            </div>
        </div>
    </div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@main/dist/en/v7.0.0/legacy/ol.js"></script>
    <script src="./JS/ol-layerswitcher.js"></script>
	<script type="text/javascript">
		var boundary = [-8064517.333113, -1597810.975388, -8053376.636241, -1591820.223296];

		// Configuración de la vista del mapa
		var vista = new ol.View({
			center: ol.extent.getCenter(boundary),
			zoom: 10,
			maxZoom: 19,
			minZoom: 3
		});
		
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

		// [CAPAS BASE]
		var osmLayer = new ol.layer.Tile({
			source: new ol.source.OSM(),
			title: 'OpenStreetMap',
			type: 'base',
			visible: false
		});
		
		// Capa World Imagery
		var worldImagery = new ol.layer.Tile({
			source: new ol.source.XYZ({
				url: 'https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', // URL para las teselas
				attributions: '© Esri, Garmin, GEBCO, NOAA NGDC, and other contributors'
			}),
			title: 'World Imagery',
			type: 'base',
			visible: true // Si deseas que sea visible por defecto
		});
		
		// [CAPAS GEOJSON]	
			
		var punto1Source = new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(
			  {"type":"FeatureCollection", "features": [
				 {
				  "type": "Feature",
				  "properties": {
					"NOMBRE": "Pamputa",
					"DESCRIPCION": "Comunidad Campesina"
				  },
				  "geometry": {
					"type": "Point",
					"coordinates": [-72.37661504778067, -13.98565798192689]
				  }
				}
				]}, { featureProjection: 'EPSG:3857' }
			)
		});
		  
		var cc_pamputa = new ol.layer.Vector({
		  source: punto1Source,
		  style: new ol.style.Style({
			image: new ol.style.Circle({
			  radius: 9,
			  fill: new ol.style.Fill({ color: '#478be7' }),
			  stroke: new ol.style.Stroke({ color: '#ffffff', width: 2 })
			}),
			text: new ol.style.Text({
			  text: 'Pamputa',
			  offsetX: -50,
			  font: 'bold 16px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 })
			})
		  }),
		  title: 'Comunidad Campesina de Pamputa',
		  visible: true
		});
		
		//-----------------------------------------------------------------------
		var punto2Source = new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(
			  {"type":"FeatureCollection", "features": [
				 {
				  "type": "Feature",
				  "properties": {
					"NOMBRE": "Cconccacca",
					"DESCRIPCION": "Comunidad Campesina"
				  },
				  "geometry": {
					"type": "Point",
					"coordinates": [-72.3562715960565, -14.1451296734515]
				  }
				}
				]}, { featureProjection: 'EPSG:3857' }
			)
		});
		  
		var cc_cconccaca = new ol.layer.Vector({
		  source: punto2Source,
		  style: new ol.style.Style({
			image: new ol.style.Circle({
			  radius: 9,
			  fill: new ol.style.Fill({ color: '#e66c37' }),
			  stroke: new ol.style.Stroke({ color: '#ffffff', width: 2 })
			}),
			text: new ol.style.Text({
			  text: 'Cconccacca',
			  offsetY: 25,
			  font: 'bold 16px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 })
			})
		  }),
		  title: 'Comunidad Campesina de Cconccacca',
		  visible: true
		});

		//-----------------------------------------------------------------------
		var punto3Source = new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(
			  {"type":"FeatureCollection", "features": [
				 {
				  "type": "Feature",
				  "properties": {
					"NOMBRE": "Cconccacca",
					"DESCRIPCION": "Comunidad Campesina"
				  },
				  "geometry": {
					"type": "Point",
					"coordinates": [-72.35187454578, -13.9730675958775]
				  }
				}
				]}, { featureProjection: 'EPSG:3857' }
			)
		});
		  
		var p_benef = new ol.layer.Vector({
		  source: punto3Source,
		  style: new ol.style.Style({
			image: new ol.style.Circle({
			  radius: 9,
			  fill: new ol.style.Fill({ color: '#12239e' }),
			  stroke: new ol.style.Stroke({ color: '#ffffff', width: 2 })
			}),
			text: new ol.style.Text({
			  text: 'Benef',
			  offsetY: -20,
			  font: 'bold 16px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 })
			})
		  }),
		  title: 'Planta de Benef',
		  visible: true
		});
		
		//-----------------------------------------------------------------------
		var huellaSource = new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(
			  {"type":"FeatureCollection", "features": [
				 {"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-72.41062097789047,-14.0790396442628],[-72.41108329405908,-14.07888732550525],[-72.41145434454879,-14.07871208212085],[-72.41190771005726,-14.0785085416333],[-72.41213387420484,-14.07845279152741],[-72.41236827211591,-14.0783972207869],[-72.41264817284305,-14.0783032928747],[-72.41279614895464,-14.07827091362072],[-72.41309637398871,-14.07819662487055],[-72.41360496288736,-14.07800343054885],[-72.41398046447999,-14.07779426259137],[-72.41419924788678,-14.07767058940942],[-72.41439716063437,-14.07757578005189],[-72.41455007883405,-14.07746603498856],[-72.41467442119863,-14.07734622698536],[-72.41482765116967,-14.07721697209317],[-72.41501325493458,-14.07712212050976],[-72.41556058091767,-14.07694866798654],[-72.41609036295996,-14.0766975171837],[-72.41644551973502,-14.07647837109377],[-72.4166521730906,-14.07633035477057],[-72.4167605156626,-14.07617649732992],[-72.41692037304655,-14.07581966397745],[-72.41705548600447,-14.07529291453041],[-72.41716566132126,-14.07498405931235],[-72.41728519531259,-14.0745588604691],[-72.41742188447908,-14.07389165376643],[-72.41756141401795,-14.07351518012643],[-72.4177926881139,-14.07300400176347],[-72.41816978771445,-14.07247017408349],[-72.4182294980788,-14.07226240706738],[-72.41823589305773,-14.07206382503634],[-72.41826556667856,-14.07161345371143],[-72.41839759582575,-14.07098982806031],[-72.41857259768358,-14.07037144989797],[-72.41908063675557,-14.06949980672187],[-72.41960382260983,-14.06891911661012],[-72.42003233590889,-14.06837128948311],[-72.42052218830459,-14.06802276688293],[-72.42103192034764,-14.06754364764205],[-72.4216728057446,-14.06707071620522],[-72.42270930034476,-14.06640028434787],[-72.42254902396495,-14.06700256524497],[-72.42253224843631,-14.06740944306095],[-72.4225342833651,-14.06777289020187],[-72.42260341664252,-14.06818547353501],[-72.42271629318213,-14.06872454417865],[-72.42269570606804,-14.06928161199721],[-72.42270019392186,-14.06997942090982],[-72.42279927039581,-14.07083334830173],[-72.4228541794125,-14.07142509939014],[-72.4230428260002,-14.07233806935182],[-72.4231407900455,-14.0731095982608],[-72.4232619852172,-14.07382319841954],[-72.42344709318523,-14.07449872621578],[-72.4236690265152,-14.07537329855555],[-72.42373526701827,-14.07605234457992],[-72.42391155559362,-14.07697006190551],[-72.4240030783642,-14.07758162613209],[-72.42421259890317,-14.07846573130237],[-72.42437530571252,-14.07931546049284],[-72.4245633621721,-14.07991829937603],[-72.42487118759666,-14.08061934777262],[-72.42488657461449,-14.08066001117249],[-72.4244045916592,-14.08081113406169],[-72.4240501416043,-14.0809146864448],[-72.42252422211277,-14.08132822139195],[-72.42234566346457,-14.08137474188089],[-72.42189822801451,-14.08147517883908],[-72.4204439484371,-14.08176474295295],[-72.42030015648479,-14.08179221728573],[-72.41970160582979,-14.08188210859745],[-72.41909831293549,-14.0819335936913],[-72.41849286271804,-14.08194645363644],[-72.41788784659221,-14.08192063220633],[-72.41761866768493,-14.0818918400596],[-72.41728585777693,-14.08185624124792],[-72.41705838163668,-14.08181999976427],[-72.41692204269899,-14.08179827811179],[-72.41596281602284,-14.08162624269292],[-72.41573024577232,-14.08158151786502],[-72.41514202045988,-14.08144097549398],[-72.41456447264768,-14.08126317992679],[-72.41447184303192,-14.08123083398465],[-72.41386112582293,-14.08101399770588],[-72.41338936007463,-14.08083205494058],[-72.41284053188195,-14.08058219346142],[-72.41230962246651,-14.08029782909682],[-72.41179890512718,-14.07998017884869],[-72.4113105663555,-14.07963060333506],[-72.41111648011206,-14.07947160762774],[-72.41084669757635,-14.0792506003743],[-72.4108164648793,-14.07922234518465],[-72.41062097789047,-14.0790396442628]]]},"properties":{"Name":"","descriptio":"","timestamp":"","begin":"","end":"","altitudeMo":"","tessellate":-1,"extrude":0,"visibility":-1,"drawOrder":null,"icon":""}},
					{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-72.40037507400311,-14.08417653599968],[-72.4006356230031,-14.0841504629997],[-72.40085036065017,-14.08412296115558],[-72.40262615442661,-14.08369720276729],[-72.40297027145665,-14.0835757592389],[-72.40315983900304,-14.0835007359997],[-72.40339968000303,-14.08339800899967],[-72.40363644500306,-14.08328869799968],[-72.40386994700306,-14.08317289099969],[-72.40409999800305,-14.08305067999967],[-72.40432641300306,-14.08292216199967],[-72.4044517400178,-14.08284631262439],[-72.40454901100303,-14.08278744299971],[-72.40476761400305,-14.08264662799971],[-72.40498204700307,-14.08249983099964],[-72.40519213700304,-14.08234716999968],[-72.40539771800303,-14.08218876599968],[-72.40559862300303,-14.08202474599966],[-72.40579469300305,-14.0818552429997],[-72.40598576900307,-14.0816803919997],[-72.40617169900307,-14.08150033199971],[-72.40635233400305,-14.08131520799972],[-72.406527530003,-14.08112516799969],[-72.40660510500307,-14.0810374579997],[-72.40708547984542,-14.08048722531009],[-72.40745266673636,-14.08006663801518],[-72.4081205294927,-14.07930164109859],[-72.4085421862643,-14.07931063112591],[-72.40914963525478,-14.07926385979012],[-72.4098019859081,-14.07923211173196],[-72.41035678919073,-14.07912668568273],[-72.41062097789046,-14.0790396442628],[-72.4108164648793,-14.07922234518465],[-72.41084669757635,-14.0792506003743],[-72.41111648011206,-14.07947160762774],[-72.4113105663555,-14.07963060333506],[-72.41179890512718,-14.07998017884869],[-72.41230962246651,-14.08029782909682],[-72.41284053188195,-14.08058219346142],[-72.41338936007463,-14.08083205494058],[-72.41386112582293,-14.08101399770588],[-72.41447184303192,-14.08123083398465],[-72.41456447264768,-14.08126317992679],[-72.41514202045988,-14.08144097549398],[-72.41573024577232,-14.08158151786502],[-72.41596281602284,-14.08162624269292],[-72.41692204269899,-14.08179827811179],[-72.41705838163668,-14.08181999976427],[-72.41728585777693,-14.08185624124792],[-72.41761866768493,-14.0818918400596],[-72.41788784659221,-14.08192063220633],[-72.41849286271804,-14.08194645363644],[-72.41909831293549,-14.0819335936913],[-72.41970160582979,-14.08188210859745],[-72.42030015648479,-14.08179221728573],[-72.42044396668157,-14.08176473946695],[-72.42047504737997,-14.08175855089186],[-72.42189822801451,-14.08147517883908],[-72.41692522981279,-14.08272615256223],[-72.41382406050337,-14.08322606969198],[-72.40500056156243,-14.08438448331459],[-72.39932845400307,-14.08420862799966],[-72.39959035200309,-14.08421145399965],[-72.3998522290031,-14.08420704399971],[-72.40011387300308,-14.08419540099968],[-72.40014711416922,-14.08419300020338],[-72.40037507400311,-14.08417653599968]]]},"properties":{"Name":"","descriptio":"","timestamp":"","begin":"","end":"","altitudeMo":"","tessellate":-1,"extrude":0,"visibility":-1,"drawOrder":null,"icon":""}},
					{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-72.3961703326069,-14.0835897490362],[-72.39519456733063,-14.0832550916252],[-72.39214012728868,-14.08220748269783],[-72.39090779066188,-14.08178480412179],[-72.38564727900322,-14.07998041999971],[-72.38541307400325,-14.07989660499961],[-72.38516975700324,-14.07980200599968],[-72.38492928000323,-14.07970072399967],[-72.38469183600321,-14.07959283999972],[-72.38445761600323,-14.07947843999967],[-72.38422680600323,-14.07935761499962],[-72.38399959100325,-14.07923046399969],[-72.38377615400326,-14.07909708599965],[-72.38355667400323,-14.07895758999968],[-72.38334132700325,-14.07881208799967],[-72.38313028300324,-14.07866069399967],[-72.38292371400324,-14.07850353199964],[-72.38272178400328,-14.07834072599968],[-72.38252465600326,-14.07817240699968],[-72.3823324860032,-14.07799871099968],[-72.3821454290032,-14.07781977599968],[-72.38196363600322,-14.07763574499966],[-72.38178725000324,-14.07744676599969],[-72.38161641500322,-14.07725298999969],[-72.38145126400325,-14.07705457399965],[-72.38129193400326,-14.07685167399967],[-72.38113855000326,-14.07664445499967],[-72.38099123500324,-14.07643308099963],[-72.3808737159496,-14.07625375088677],[-72.38084391144903,-14.07620827017863],[-72.38158952798334,-14.07636713577889],[-72.38237991613352,-14.07649152258776],[-72.38379605363909,-14.07722061658236],[-72.3847285786085,-14.07776126274326],[-72.38518130326098,-14.07815198838498],[-72.385747668001,-14.0785921848172],[-72.3862594635361,-14.07880992650389],[-72.3867890823372,-14.07889281091462],[-72.38732045518624,-14.07882142211387],[-72.38761510988613,-14.07875713448295],[-72.3878863404143,-14.07859602443867],[-72.3885902741133,-14.07806353687173],[-72.3892324930196,-14.07757852679445],[-72.38971973258413,-14.07708226147772],[-72.39018319937838,-14.07652783388557],[-72.39041670019921,-14.07608663657136],[-72.39085441591145,-14.07528115872526],[-72.39124451462062,-14.07471626833506],[-72.39165002084458,-14.0742286898623],[-72.39197997574391,-14.07392367350197],[-72.3921065530924,-14.073558462792],[-72.39235025151544,-14.07294374898364],[-72.3929102627955,-14.07214925307716],[-72.39365381698975,-14.07123740469234],[-72.39380415336629,-14.07117606522158],[-72.39422409652067,-14.07103037281886],[-72.39487789954168,-14.07086787385965],[-72.39617560034503,-14.0705184609063],[-72.39657412148891,-14.07045013189964],[-72.39736610624904,-14.07040049815037],[-72.39876656192226,-14.07039138853531],[-72.39959042627551,-14.07041968946553],[-72.39999152273677,-14.07049185340323],[-72.40035949756845,-14.07058786919306],[-72.40067758845429,-14.07074152306176],[-72.40094683617352,-14.07086068463343],[-72.40132568582415,-14.07090351929247],[-72.4019192702764,-14.07099229597815],[-72.40266413390336,-14.07111657635738],[-72.40385113262398,-14.07112934996204],[-72.40421558539578,-14.07117690259867],[-72.40450234630859,-14.07120419730256],[-72.40499362793123,-14.07127253483186],[-72.40534643198912,-14.07126178430627],[-72.40565397063321,-14.07126021256931],[-72.4060477662777,-14.07124990271748],[-72.40627481056515,-14.07129597486971],[-72.40630223839358,-14.07140774406333],[-72.40638012335765,-14.07177200170064],[-72.40636926446793,-14.07200449966996],[-72.40632217930242,-14.07218321975623],[-72.40617245803662,-14.07237059268308],[-72.4056698342412,-14.07275769735398],[-72.4054249466664,-14.07302155451766],[-72.40523293652831,-14.0733150677916],[-72.40503998013519,-14.07370062326939],[-72.40491324127339,-14.07421290846184],[-72.40486354545615,-14.07461454825102],[-72.40486614763682,-14.07511368060445],[-72.40491409885149,-14.07576831664795],[-72.40498535534434,-14.07635057334076],[-72.4049690004812,-14.07670893898031],[-72.40490352160202,-14.07724609330691],[-72.40494139652435,-14.07752265684772],[-72.40510652351743,-14.0777909227556],[-72.4053333664822,-14.07803564322379],[-72.40557640898274,-14.0783047481921],[-72.40610321827312,-14.07867871199956],[-72.40636829673062,-14.07880758095829],[-72.40699702395852,-14.07905662172528],[-72.40761475719906,-14.07918919029404],[-72.40811429698903,-14.079308780096],[-72.40745266673636,-14.08006663801518],[-72.40708547984542,-14.08048722531009],[-72.40660510500307,-14.0810374579997],[-72.406527530003,-14.08112516799969],[-72.40635233400305,-14.08131520799972],[-72.40617169900307,-14.08150033199971],[-72.40598576900307,-14.0816803919997],[-72.40579469300305,-14.0818552429997],[-72.40559862300303,-14.08202474599966],[-72.40539771800303,-14.08218876599968],[-72.40519213700304,-14.08234716999968],[-72.40498204700307,-14.08249983099964],[-72.40476761400305,-14.08264662799971],[-72.40454901100303,-14.08278744299971],[-72.4044517400178,-14.08284631262439],[-72.40432641300306,-14.08292216199967],[-72.40409999800305,-14.08305067999967],[-72.40386994700306,-14.08317289099969],[-72.40363644500306,-14.08328869799968],[-72.40339968000303,-14.08339800899967],[-72.40315983900304,-14.0835007359997],[-72.40297027145665,-14.0835757592389],[-72.40262615442661,-14.08369720276729],[-72.40085036065017,-14.08412296115558],[-72.4006356230031,-14.0841504629997],[-72.40037507400311,-14.08417653599968],[-72.40011387300234,-14.0841954009997],[-72.3998522290031,-14.08420704399971],[-72.39959035200309,-14.08421145399965],[-72.39932845400307,-14.08420862799966],[-72.39906674100307,-14.0841985699997],[-72.39880542500313,-14.08418128499969],[-72.3985447150031,-14.0841567889997],[-72.39835217249065,-14.08413331379808],[-72.3982848200031,-14.08412510199968],[-72.39802594800307,-14.08408624799964],[-72.39776830600313,-14.08404025799966],[-72.39760245597549,-14.08400589253642],[-72.39692114906478,-14.08382055964299],[-72.39653090610518,-14.08369323095761],[-72.3965057300031,-14.08370476999965],[-72.39649397100317,-14.0837007459997],[-72.3961703326069,-14.0835897490362]]]},"properties":{"Name":"","descriptio":"","timestamp":"","begin":"","end":"","altitudeMo":"","tessellate":-1,"extrude":0,"visibility":-1,"drawOrder":null,"icon":""}},
					{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-72.39132959589814,-14.09440778326674],[-72.39130643641917,-14.09434715728265],[-72.3912615356311,-14.09409947463805],[-72.3911853802751,-14.09368993496906],[-72.39111567449929,-14.09335933942645],[-72.39095660070011,-14.09313533292718],[-72.3907314772035,-14.09284204308188],[-72.39062359911988,-14.09270149972187],[-72.39037196961425,-14.09221835514678],[-72.39017094330221,-14.09180746197347],[-72.38992682439405,-14.09131005772362],[-72.38982112692139,-14.09091453800077],[-72.38981886338735,-14.09086932667664],[-72.38980316752132,-14.09055582134099],[-72.38975403213087,-14.09035451718057],[-72.38960973363957,-14.09012349948316],[-72.38956807117714,-14.09004693770504],[-72.38943703143948,-14.08980612984761],[-72.38927504879712,-14.08967674107571],[-72.38918222677235,-14.08960259643658],[-72.38858455644464,-14.08918740563287],[-72.38809519156518,-14.08893830674193],[-72.3877651413619,-14.08889170659631],[-72.38729685091978,-14.08894069385102],[-72.38720616238032,-14.08895018055153],[-72.3868905583672,-14.08892524664469],[-72.38675181313528,-14.08885203795062],[-72.38653969658507,-14.08877086350302],[-72.3863268456291,-14.08875421323683],[-72.38605531396466,-14.08872975721073],[-72.38583601540518,-14.0886341625807],[-72.38567866428788,-14.08825959363086],[-72.3855342797629,-14.08791868669246],[-72.38537250862312,-14.08771843792991],[-72.38527402306345,-14.08766722960141],[-72.38508410784148,-14.0875719532977],[-72.38502004146595,-14.08739199855128],[-72.38490439562516,-14.08722582401189],[-72.38463515282258,-14.08700061944456],[-72.38416905922688,-14.08664421009646],[-72.3840713315822,-14.08640001934033],[-72.38400477452936,-14.08623371387924],[-72.38362070638973,-14.08577063867044],[-72.38313339789929,-14.08534229463069],[-72.38168086160513,-14.08452343489383],[-72.3807166170493,-14.08404688266025],[-72.37994155105358,-14.08373013267879],[-72.37875597914966,-14.08333721335286],[-72.37759326650729,-14.08287283294191],[-72.37679560154359,-14.08260602128188],[-72.37642015795835,-14.08246160534775],[-72.37562538871018,-14.08215589167602],[-72.37517496409703,-14.0818860841934],[-72.37535961930703,-14.08197143127554],[-72.37494349357652,-14.08174743121086],[-72.37469879706015,-14.08160085534508],[-72.37395362136235,-14.0812413920899],[-72.37295235779291,-14.08079309161098],[-72.37213349358613,-14.08045433121453],[-72.3713944416029,-14.08020248348413],[-72.37128897281112,-14.08017415856704],[-72.37069872265958,-14.08001563882635],[-72.36995191861202,-14.07979955379428],[-72.36972131934644,-14.07974545153581],[-72.36960701469955,-14.07973376663048],[-72.36945269998998,-14.07973356694226],[-72.36886862054229,-14.079732810342],[-72.36840821296137,-14.07989926818914],[-72.36823955375652,-14.08008465507447],[-72.36816095544796,-14.08017463858021],[-72.36774811691994,-14.0797828525673],[-72.36818494700377,-14.07963558864316],[-72.3687690832511,-14.07953085302858],[-72.3694480792632,-14.07935307627816],[-72.37018495968472,-14.07905009500851],[-72.37084906043884,-14.07852400611654],[-72.37142696910362,-14.07787114237761],[-72.37173823440833,-14.0775115737188],[-72.37237411137824,-14.07699267036224],[-72.37306932310241,-14.07649654234413],[-72.37354140881497,-14.07631649902012],[-72.37455207472438,-14.07618676146378],[-72.37561842326974,-14.07612438133054],[-72.37623613397284,-14.07610147148528],[-72.37641769764667,-14.07611826077416],[-72.37653602527584,-14.07618621360734],[-72.37666726776452,-14.07621727030815],[-72.3768178089448,-14.07621150028252],[-72.3769560201439,-14.0761833735695],[-72.37749934421103,-14.07614266927748],[-72.3781617888989,-14.0761411074672],[-72.37860660615154,-14.07612832647587],[-72.37903709551702,-14.07614655376995],[-72.37993559475078,-14.07609841070136],[-72.38058795240492,-14.07615373342396],[-72.38084391144903,-14.07620827017863],[-72.3808737159496,-14.07625375088677],[-72.38099123500324,-14.07643308099963],[-72.38113855000326,-14.07664445499967],[-72.38129193400326,-14.07685167399967],[-72.38145126400325,-14.07705457399965],[-72.38161641500322,-14.07725298999969],[-72.38178725000324,-14.07744676599969],[-72.38196363600322,-14.07763574499966],[-72.3821454290032,-14.07781977599968],[-72.3823324860032,-14.07799871099968],[-72.38252465600326,-14.07817240699968],[-72.38272178400328,-14.07834072599968],[-72.38292371400324,-14.07850353199964],[-72.38313028300324,-14.07866069399967],[-72.38334132700325,-14.07881208799967],[-72.38355667400323,-14.07895758999968],[-72.38377615400326,-14.07909708599965],[-72.38399959100325,-14.07923046399969],[-72.38422680600323,-14.07935761499962],[-72.38445761600323,-14.07947843999967],[-72.38469183600321,-14.07959283999972],[-72.38492928000323,-14.07970072399967],[-72.38516975700324,-14.07980200599968],[-72.38541307400325,-14.07989660499961],[-72.38564727900322,-14.07998041999971],[-72.39090779066188,-14.08178480412179],[-72.39214012728868,-14.08220748269783],[-72.39519456733063,-14.0832550916252],[-72.3961703326069,-14.0835897490362],[-72.39652913978603,-14.08371280766529],[-72.39652338136379,-14.08377663056853],[-72.39634847148507,-14.08408546195361],[-72.3961961471694,-14.08456184842047],[-72.39595971795467,-14.08468119255888],[-72.39582342927415,-14.08482312928581],[-72.39577229263655,-14.08501378928162],[-72.39569748513966,-14.08513248892822],[-72.39564716139412,-14.08525145308832],[-72.39558405358133,-14.08541808152711],[-72.39542355045714,-14.0855358550454],[-72.395433218186,-14.08576302467121],[-72.39538330073323,-14.08584614039328],[-72.39516158650791,-14.08596325217197],[-72.39508542277098,-14.08620144470959],[-72.39505836322039,-14.08642821733091],[-72.39499444112725,-14.08666654210391],[-72.39488249896162,-14.08682069175077],[-72.39468608195826,-14.08686637183283],[-72.39457441066781,-14.08699662301487],[-72.39440166481573,-14.08711426322142],[-72.39430182842437,-14.08728049487679],[-72.39440983874357,-14.08747287493995],[-72.39451825602941,-14.08762940668353],[-72.39452873525124,-14.08778488046544],[-72.39456356297026,-14.08795256809027],[-72.3945486088654,-14.08819142108545],[-72.39453392588513,-14.08840637671025],[-72.39443259708544,-14.08870405056448],[-72.39433262511835,-14.08888223123679],[-72.39414627820894,-14.08911923167039],[-72.39393531100983,-14.08936791621623],[-72.39377412581604,-14.0895454344972],[-72.39365129569828,-14.08957995771762],[-72.39351473101172,-14.0897457914819],[-72.39337952293937,-14.08979213213528],[-72.39325520008562,-14.08995809722365],[-72.3930708866462,-14.09001585701332],[-72.39288643742903,-14.09008556575972],[-72.39274946473974,-14.0902872471776],[-72.39266444732742,-14.09022657341183],[-72.3926014711908,-14.09038125128608],[-72.39246558395122,-14.09048733777973],[-72.39236588014101,-14.09064161808316],[-72.39230344663274,-14.09074849938861],[-72.39227665454375,-14.09095137193551],[-72.39231215936773,-14.09105931320425],[-72.39222456251105,-14.09122567590059],[-72.39218593435558,-14.09139256857431],[-72.39213601517807,-14.09147568318383],[-72.39212132827961,-14.0916906372695],[-72.39211915600225,-14.0918818265648],[-72.39204434394568,-14.09200052339978],[-72.39211630485174,-14.09213276138076],[-72.39212610415537,-14.09234798050333],[-72.39208801869844,-14.09246707578258],[-72.39195172251772,-14.09260900902378],[-72.39191390847694,-14.09270420604557],[-72.39193635716317,-14.09288371036602],[-72.39190969902829,-14.093074633629],[-72.39178396048148,-14.0932028270384],[-72.39173599640573,-14.09327591544761],[-72.39174647328379,-14.09343138900476],[-72.39179340645555,-14.09361115841691],[-72.39169465115882,-14.09368179349634],[-72.39154692648007,-14.09375189828429],[-72.39152108271036,-14.09387112593129],[-72.39165466470796,-14.09396817781592],[-72.39160420043382,-14.09409908945437],[-72.391467767016,-14.09425297218503],[-72.39145457295179,-14.09433648418218],[-72.39133133342061,-14.09440685390166],[-72.39132959589814,-14.09440778326674]]]},"properties":{"Name":"","descriptio":"","timestamp":"","begin":"","end":"","altitudeMo":"","tessellate":-1,"extrude":0,"visibility":-1,"drawOrder":null,"icon":""}},
					{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-72.39132959589814,-14.09440778326674],[-72.39131850249095,-14.09441371690224],[-72.39135140414275,-14.09459520888525],[-72.39140863957189,-14.09470281278326],[-72.3914664874844,-14.09481156806859],[-72.39154549486084,-14.09497017402197],[-72.39159503963396,-14.09513562999627],[-72.39152087431388,-14.09532408936662],[-72.39149669468894,-14.09538553142875],[-72.39146519345145,-14.09557162146803],[-72.39154371291892,-14.09577324385122],[-72.39162421314991,-14.09589612105881],[-72.39168091549557,-14.09598267260434],[-72.39173054101549,-14.0961409603892],[-72.39174254269511,-14.09637771503491],[-72.39166688637006,-14.09657049780957],[-72.39162403243759,-14.09667084779266],[-72.39150839023728,-14.09694164365487],[-72.39144405369464,-14.09735379097162],[-72.3914212310434,-14.0974999949345],[-72.39146147345765,-14.09783744142507],[-72.3915352653428,-14.09845489849411],[-72.39154931283939,-14.09915775449451],[-72.3914900662347,-14.09984547475806],[-72.39140208926781,-14.10047552115418],[-72.39122791893807,-14.10093254242299],[-72.39116492972006,-14.10109432922215],[-72.39109170014494,-14.10128241782798],[-72.39091262883326,-14.10152427280662],[-72.3905420784203,-14.10180707405732],[-72.39034303260895,-14.10189731550375],[-72.3901910976885,-14.10196619810424],[-72.39012201298365,-14.10189438128203],[-72.39004588248173,-14.10181523987102],[-72.3898879478558,-14.1017059719673],[-72.3895830987814,-14.10159511030784],[-72.38928477991415,-14.10144846748522],[-72.38906604048455,-14.10130268640092],[-72.38885933906822,-14.10117496287222],[-72.3886471972301,-14.10098742570111],[-72.3884841634109,-14.10078847138397],[-72.38821808628109,-14.10049876806424],[-72.38785304629064,-14.10029762136816],[-72.38743910453375,-14.10008996884284],[-72.38702529881834,-14.09987036576974],[-72.38648913516083,-14.09964345934399],[-72.38550107952875,-14.0993160410091],[-72.38513488663239,-14.09921645902744],[-72.38442657934907,-14.09905340838795],[-72.38395420155967,-14.09899103553209],[-72.38370446249046,-14.0986156379204],[-72.38351995441016,-14.09840089659729],[-72.38328374928926,-14.0978985123871],[-72.38239980128093,-14.0963468163469],[-72.38166299008626,-14.09442445104498],[-72.38140331271579,-14.09404945239333],[-72.38036743608741,-14.09328309119073],[-72.37915613635809,-14.09247227123691],[-72.37757755085482,-14.09108310823886],[-72.37715565350943,-14.0904723771929],[-72.37693314208127,-14.09038531261597],[-72.37659176014226,-14.09045539979432],[-72.37644175691484,-14.09045376652188],[-72.37614245652568,-14.09037245959876],[-72.3759126859795,-14.09025649909055],[-72.37568571574917,-14.09015475151764],[-72.37532181551872,-14.08995214449512],[-72.37510655168424,-14.08987888830223],[-72.37489649130521,-14.08987660077898],[-72.37471104721644,-14.08981785084061],[-72.37449562264044,-14.08975868467234],[-72.37429221432568,-14.08969269346986],[-72.37393238465935,-14.08966040785462],[-72.37353607093104,-14.08967027183357],[-72.37313910821473,-14.08973685754801],[-72.37242736964926,-14.08976460072133],[-72.37202983807593,-14.08988086162082],[-72.3714386566293,-14.09012978717335],[-72.37107045711899,-14.09030309476597],[-72.37093174249195,-14.09035831152383],[-72.37069754152195,-14.09036289240273],[-72.3701931440747,-14.09037157207345],[-72.36949079866234,-14.09037095323813],[-72.36877658605277,-14.0903561105416],[-72.36863908983558,-14.09030492581582],[-72.36856172027416,-14.09024021513536],[-72.36855067634984,-14.09016213749021],[-72.36861226691433,-14.09002089612055],[-72.36869345594589,-14.08975222851865],[-72.36902130356823,-14.08916710609915],[-72.36954235610663,-14.08822935191071],[-72.3698427723156,-14.08767933941872],[-72.37007274221956,-14.08751870635277],[-72.37042435525086,-14.08721748612589],[-72.37050768977075,-14.08701984304113],[-72.37056635946934,-14.08661615073962],[-72.37055164328982,-14.08632520684059],[-72.37056082533582,-14.08604861590468],[-72.37050458541665,-14.08571467217729],[-72.37044851981081,-14.08537359480868],[-72.37050632749877,-14.08477838675605],[-72.37051687703936,-14.08437416937113],[-72.37053402179905,-14.08392747709918],[-72.37045324731729,-14.08364285870552],[-72.37025619131127,-14.0830306886698],[-72.36994775877143,-14.08243862256452],[-72.36945370335803,-14.08155365741096],[-72.36906925601014,-14.08104585494019],[-72.36871992324603,-14.08062352978474],[-72.36838346943853,-14.08038580481573],[-72.36816095544799,-14.08017463858021],[-72.36823955375652,-14.08008465507447],[-72.36840821296137,-14.07989926818914],[-72.36886862054229,-14.079732810342],[-72.36945269998998,-14.07973356694226],[-72.36960701469955,-14.07973376663048],[-72.36972131934644,-14.07974545153581],[-72.36995191861202,-14.07979955379428],[-72.37069872265958,-14.08001563882635],[-72.37128897281112,-14.08017415856704],[-72.3713944416029,-14.08020248348413],[-72.37213349358613,-14.08045433121453],[-72.37295235779291,-14.08079309161098],[-72.37395362136235,-14.0812413920899],[-72.37469879706015,-14.08160085534508],[-72.37494349357652,-14.08174743121086],[-72.37535961930703,-14.08197143127554],[-72.37517496409703,-14.0818860841934],[-72.37562538871018,-14.08215589167602],[-72.37642015795835,-14.08246160534775],[-72.37679560154359,-14.08260602128188],[-72.37759326650729,-14.08287283294191],[-72.37875597914966,-14.08333721335286],[-72.37994155105358,-14.08373013267879],[-72.3807166170493,-14.08404688266025],[-72.38168086160513,-14.08452343489383],[-72.38313339789929,-14.08534229463069],[-72.38362070638973,-14.08577063867044],[-72.38400477452936,-14.08623371387924],[-72.3840713315822,-14.08640001934033],[-72.38416905922688,-14.08664421009646],[-72.38463515282258,-14.08700061944456],[-72.38490439562516,-14.08722582401189],[-72.38502004146595,-14.08739199855128],[-72.38508410784148,-14.0875719532977],[-72.38527402306345,-14.08766722960141],[-72.38537250862312,-14.08771843792991],[-72.3855342797629,-14.08791868669246],[-72.38567866428788,-14.08825959363086],[-72.38583601540518,-14.0886341625807],[-72.38605531396466,-14.08872975721073],[-72.3863268456291,-14.08875421323683],[-72.38653969658507,-14.08877086350302],[-72.38675181313528,-14.08885203795062],[-72.3868905583672,-14.08892524664469],[-72.38720616238032,-14.08895018055153],[-72.38729685091978,-14.08894069385102],[-72.3877651413619,-14.08889170659631],[-72.38809519156518,-14.08893830674193],[-72.38858455644464,-14.08918740563287],[-72.38918222677235,-14.08960259643658],[-72.38927504879712,-14.08967674107571],[-72.38943703143948,-14.08980612984761],[-72.38956807117714,-14.09004693770504],[-72.38960973363957,-14.09012349948316],[-72.38975403213087,-14.09035451718057],[-72.38980316752132,-14.09055582134099],[-72.38981886338735,-14.09086932667664],[-72.38982112692139,-14.09091453800077],[-72.38992682439405,-14.09131005772362],[-72.39017094330221,-14.09180746197347],[-72.39037196961425,-14.09221835514678],[-72.39062359911988,-14.09270149972187],[-72.3907314772035,-14.09284204308188],[-72.39095660070011,-14.09313533292718],[-72.39111567449929,-14.09335933942645],[-72.3911853802751,-14.09368993496906],[-72.3912615356311,-14.09409947463805],[-72.39130643641917,-14.09434715728265],[-72.39132959589814,-14.09440778326674]]]},"properties":{"Name":"","descriptio":"","timestamp":"","begin":"","end":"","altitudeMo":"","tessellate":-1,"extrude":0,"visibility":-1,"drawOrder":null,"icon":""}},
					{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-72.39422409652067,-14.07103037281886],[-72.39378256006633,-14.07118355663727],[-72.39323601363895,-14.07062600172423],[-72.39288300288557,-14.07025248567975],[-72.3926653713855,-14.06991462463693],[-72.39233303424052,-14.06935040565362],[-72.39194035094664,-14.06866629025121],[-72.39155922162277,-14.06816541112477],[-72.3909392709164,-14.06790101544504],[-72.39061863857273,-14.06765860185047],[-72.39032349025965,-14.06714857418093],[-72.38958674925816,-14.06654939599492],[-72.38927266084819,-14.06613061093139],[-72.38909182305642,-14.06574989674741],[-72.38905185210903,-14.06545869483235],[-72.38891703270154,-14.06524966727935],[-72.38885937837223,-14.06462793466034],[-72.38883145882075,-14.06425053340879],[-72.38875126116356,-14.06381232141434],[-72.38869706983968,-14.06345607271989],[-72.38873506347723,-14.06302908538908],[-72.3887781808418,-14.06259769083818],[-72.38879068236199,-14.06226506382371],[-72.3889246025809,-14.06165329250089],[-72.38911321643063,-14.06114621590381],[-72.389222528806,-14.06085952378441],[-72.3890514215311,-14.06048948107372],[-72.38884225025173,-14.05998517553647],[-72.38863443967918,-14.05960972300132],[-72.38846122865006,-14.05913410773],[-72.38832361839786,-14.05875211345725],[-72.38775846583597,-14.05815713558971],[-72.38774121941482,-14.05803919678437],[-72.38764684298647,-14.05739380738111],[-72.38768706683464,-14.05697405314969],[-72.38730600663307,-14.05659743863156],[-72.38684459927313,-14.05617746018379],[-72.38639214034379,-14.05585850138245],[-72.3862704594361,-14.05512540023285],[-72.38627228209859,-14.05414759468362],[-72.38627353720928,-14.05364835709645],[-72.38628637936787,-14.05348859093075],[-72.38632333752315,-14.05302880086291],[-72.38634081308703,-14.0528113889946],[-72.38641162556702,-14.0524783366029],[-72.38643957628965,-14.05234687555557],[-72.38634096485744,-14.05140432615113],[-72.38633123425863,-14.05117619731154],[-72.386410756781,-14.05093881823769],[-72.38659867547912,-14.05037786536364],[-72.38672166880981,-14.05001071789567],[-72.38687637567982,-14.04954890044203],[-72.38701831169448,-14.04861618942699],[-72.38711107810266,-14.04800657845579],[-72.38715416358392,-14.04772344203963],[-72.38715531735825,-14.04762175609423],[-72.38717815967337,-14.04560842022563],[-72.38713371400286,-14.04481167306098],[-72.38707400063898,-14.04374123783486],[-72.38711404800323,-14.04345097899966],[-72.38720849800322,-14.04216019199965],[-72.3871578377678,-14.04201749448676],[-72.38719747729951,-14.04147105935818],[-72.38723020531262,-14.04101989579875],[-72.38749558237038,-14.04007788265358],[-72.38818678184651,-14.03762426764831],[-72.38823376353092,-14.03745074210803],[-72.38838593677481,-14.03688869195799],[-72.38846166436285,-14.03660899142344],[-72.38854317270196,-14.03630793913788],[-72.38878675373641,-14.03690489769964],[-72.38876116964843,-14.03706289245789],[-72.38891782959435,-14.03668695103093],[-72.38907927880032,-14.03629951405974],[-72.38971380417367,-14.03502881985676],[-72.38993381500333,-14.0349506759219],[-72.3900732182248,-14.0348714169908],[-72.39061030418483,-14.03459854879136],[-72.3906558658886,-14.03457737014713],[-72.39071290088266,-14.0345510438797],[-72.39122155510827,-14.03433423221204],[-72.3913375791929,-14.03428965520675],[-72.39135282579831,-14.03428391383773],[-72.39138632704129,-14.03427198515189],[-72.3916737051454,-14.03416965904736],[-72.39179287382468,-14.03412964415896],[-72.39192493915967,-14.03408638192505],[-72.39250623123633,-14.03392104878103],[-72.39293167422007,-14.03382503909005],[-72.39303398189816,-14.03380442220845],[-72.39313626522964,-14.03378369081215],[-72.39331215887518,-14.03374977420711],[-72.39391057908553,-14.03365992779226],[-72.39451373784172,-14.03360848379114],[-72.39473244218655,-14.03360385206781],[-72.39473240584871,-14.03360284184961],[-72.39474947208318,-14.03360056369926],[-72.39475272317961,-14.03360045186176],[-72.39477287887361,-14.03359743915385],[-72.39506659697034,-14.03355823085982],[-72.39566975522425,-14.03350678386968],[-72.3962750677898,-14.03349396010515],[-72.39634795522481,-14.03349502497855],[-72.3963628622322,-14.03349530008475],[-72.39689485105471,-14.03352008793792],[-72.39693929778561,-14.03352351778781],[-72.39695200606043,-14.03352452891099],[-72.39707776801032,-14.03353361511578],[-72.39712848010008,-14.03353674908968],[-72.39722272688891,-14.033543044793],[-72.39731622820545,-14.0335497581649],[-72.39734441517246,-14.03355182502256],[-72.39788727189011,-14.03360820382101],[-72.39791849793781,-14.03361235902989],[-72.39797749322868,-14.03362039981229],[-72.39857374100313,-14.03372310999966],[-72.39921465687671,-14.03387629563063],[-72.39921403029733,-14.033879621584],[-72.39956742642866,-14.03398761765289],[-72.39957047580775,-14.03398796896031],[-72.39957167400314,-14.03398833699967],[-72.39958331400317,-14.03398944799966],[-72.3999511180031,-14.03403182099965],[-72.40003464300315,-14.03404310399972],[-72.40006047630324,-14.03404630714909],[-72.40011829200311,-14.03405347599968],[-72.40026115800318,-14.03407229599972],[-72.40085740800315,-14.03417499999966],[-72.4014455030031,-14.0343155559997],[-72.40202292400312,-14.03449336099967],[-72.40229020100315,-14.03458969399972],[-72.40247733800314,-14.03466035599969],[-72.40251192719616,-14.03467351696805],[-72.4025213360031,-14.03467709699964],[-72.40252268600312,-14.03467761399966],[-72.4025825250031,-14.03470078699968],[-72.40288888600313,-14.03482063499967],[-72.40307128500308,-14.03489198999966],[-72.40315571800308,-14.0349224559997],[-72.40354867300314,-14.03507429299973],[-72.40369716900307,-14.0351355379997],[-72.40373119900308,-14.03514965099967],[-72.4037795470031,-14.03516997199969],[-72.4038469060031,-14.0351985069997],[-72.40396088600308,-14.03524768399967],[-72.40398473200308,-14.03525815999968],[-72.40437111900312,-14.03543852399971],[-72.40454190400312,-14.03552523199969],[-72.40457870900312,-14.03554439699972],[-72.40493872700306,-14.03574205099969],[-72.4051922500031,-14.03589403099965],[-72.4052090040031,-14.03590443999971],[-72.40546609900309,-14.03607010699969],[-72.4059543470031,-14.0364196779997],[-72.40641813200307,-14.03679967599967],[-72.40685546900306,-14.0372084739997],[-72.40708725903758,-14.03745546824667],[-72.40726448600307,-14.03764431999971],[-72.40764343000305,-14.0381053499997],[-72.40799067900306,-14.03858958899968],[-72.40830474600303,-14.03909496399967],[-72.40858428600303,-14.03961931099971],[-72.40882810100307,-14.04016038299965],[-72.40902955933488,-14.04070087191064],[-72.40920453814076,-14.04128337883686],[-72.40930136042964,-14.04169142242317],[-72.40930543348982,-14.04171060426679],[-72.40937752594849,-14.04192005819121],[-72.40937764077842,-14.04192039488191],[-72.40943993699804,-14.0421014069834],[-72.40948409804012,-14.04222973692853],[-72.40950693419245,-14.0422969688662],[-72.40967632690607,-14.0428644818871],[-72.40969260603781,-14.04292745185544],[-72.40979143886133,-14.04331561677373],[-72.40982472005662,-14.04345076597849],[-72.40987567293416,-14.0436649061202],[-72.40988115494864,-14.04368808504673],[-72.40988740809559,-14.04371467987325],[-72.40996337511375,-14.04407049708687],[-72.41005544382853,-14.04465473979312],[-72.41007747515539,-14.04485132805191],[-72.41007928000592,-14.04486924316253],[-72.41010997918214,-14.04526152621919],[-72.41011833706787,-14.04556155877589],[-72.4103498653411,-14.04583384410275],[-72.41074723080399,-14.0463011579864],[-72.4112519677302,-14.04689474076633],[-72.4117847632424,-14.04752131721687],[-72.41397980922774,-14.05010268580418],[-72.4144594629375,-14.05066674892333],[-72.41460243188546,-14.05083913878763],[-72.41476178190891,-14.05104201907063],[-72.41491518706934,-14.05124922006271],[-72.41506252482868,-14.05146057590298],[-72.41520367790164,-14.05167591790991],[-72.41533853195816,-14.05189507220198],[-72.41546697891064,-14.05211786498035],[-72.41558891693501,-14.05234411622243],[-72.41570424710434,-14.05257364601702],[-72.41581287820759,-14.05280627013713],[-72.41591472290901,-14.05304180111722],[-72.41600969910064,-14.0532800529294],[-72.41609773006512,-14.05352083195215],[-72.41617874720097,-14.0537639470163],[-72.41625268485684,-14.0540092022041],[-72.41631948211968,-14.05425640213219],[-72.41637908778708,-14.05450534905305],[-72.41643145298495,-14.05475584288876],[-72.41647653611993,-14.05500768213903],[-72.41651430087438,-14.05526066683291],[-72.41654471618396,-14.0555145921789],[-72.41656775921281,-14.05576925782299],[-72.41658340999582,-14.05602445712404],[-72.4165916571943,-14.05627998599013],[-72.41724149102619,-14.05682865501003],[-72.41746935029303,-14.0574523088242],[-72.41754601204407,-14.05782400474718],[-72.41770909438719,-14.05829183699294],[-72.41787195620203,-14.05860784667886],[-72.41802959884687,-14.0589137285461],[-72.41823710031423,-14.05924161153925],[-72.4184086605945,-14.05977227770063],[-72.41863537356001,-14.06029755769381],[-72.4188043109137,-14.06078935491294],[-72.41916813360422,-14.06136988070699],[-72.4195468911823,-14.06198343087457],[-72.41962098448357,-14.06209964317591],[-72.41981157086757,-14.06239856955122],[-72.42024834238703,-14.06302469006849],[-72.42051808138082,-14.06337386037922],[-72.42073707504024,-14.06365734126998],[-72.42114910017133,-14.06430709812098],[-72.42168494770598,-14.06483269219569],[-72.42225994582341,-14.06541547036295],[-72.42290207279332,-14.0660168920761],[-72.42310425187297,-14.06619879888542],[-72.42272207596166,-14.06635227639734],[-72.42270930034476,-14.06640028434787],[-72.4216728057446,-14.06707071620522],[-72.42103192034764,-14.06754364764205],[-72.42052218830459,-14.06802276688293],[-72.42003233590889,-14.06837128948311],[-72.41960382260983,-14.06891911661012],[-72.41908063675557,-14.06949980672187],[-72.41857259768358,-14.07037144989797],[-72.41839759582575,-14.07098982806031],[-72.41826556667856,-14.07161345371143],[-72.41823589305773,-14.07206382503634],[-72.4182294980788,-14.07226240706738],[-72.41816978771445,-14.07247017408349],[-72.4177926881139,-14.07300400176347],[-72.41756141401795,-14.07351518012643],[-72.41742188447908,-14.07389165376643],[-72.41728519531259,-14.0745588604691],[-72.41716566132126,-14.07498405931235],[-72.41705548600447,-14.07529291453041],[-72.41692037304655,-14.07581966397745],[-72.4167605156626,-14.07617649732992],[-72.4166521730906,-14.07633035477057],[-72.41644551973502,-14.07647837109377],[-72.41609036295996,-14.0766975171837],[-72.41556058091767,-14.07694866798654],[-72.41501325493458,-14.07712212050976],[-72.41482765116967,-14.07721697209317],[-72.41467442119863,-14.07734622698536],[-72.41455007883405,-14.07746603498856],[-72.41439716063437,-14.07757578005189],[-72.41419924788678,-14.07767058940942],[-72.41398046447999,-14.07779426259137],[-72.41360496288736,-14.07800343054885],[-72.41309637398871,-14.07819662487055],[-72.41279614895464,-14.07827091362072],[-72.41264817284305,-14.0783032928747],[-72.41236827211591,-14.0783972207869],[-72.41213387420484,-14.07845279152741],[-72.41190771005726,-14.0785085416333],[-72.41145434454879,-14.07871208212085],[-72.41108329405908,-14.07888732550525],[-72.41062097789047,-14.0790396442628],[-72.41035678919073,-14.07912668568273],[-72.4098019859081,-14.07923211173196],[-72.40914963525478,-14.07926385979012],[-72.4085421862643,-14.07931063112591],[-72.40808095153271,-14.07930079723007],[-72.40761475719906,-14.07918919029404],[-72.40699702395852,-14.07905662172528],[-72.40636829673062,-14.07880758095829],[-72.40610321827312,-14.07867871199956],[-72.40557640898274,-14.0783047481921],[-72.4053333664822,-14.07803564322379],[-72.40510652351743,-14.0777909227556],[-72.40494139652435,-14.07752265684772],[-72.40490352160202,-14.07724609330691],[-72.4049690004812,-14.07670893898031],[-72.40498535534434,-14.07635057334076],[-72.40491409885149,-14.07576831664795],[-72.40486614763682,-14.07511368060445],[-72.40486354545615,-14.07461454825102],[-72.40491324127339,-14.07421290846184],[-72.40503998013519,-14.07370062326939],[-72.40523293652831,-14.0733150677916],[-72.4054249466664,-14.07302155451766],[-72.4056698342412,-14.07275769735398],[-72.40617245803662,-14.07237059268308],[-72.40632217930242,-14.07218321975623],[-72.40636926446793,-14.07200449966996],[-72.40638012335765,-14.07177200170064],[-72.40630223839358,-14.07140774406333],[-72.40627481056515,-14.07129597486971],[-72.4060477662777,-14.07124990271748],[-72.40565397063321,-14.07126021256931],[-72.40534643198912,-14.07126178430627],[-72.40499362793123,-14.07127253483186],[-72.40450234630859,-14.07120419730256],[-72.40421558539578,-14.07117690259867],[-72.40385113262398,-14.07112934996204],[-72.40266413390336,-14.07111657635738],[-72.4019192702764,-14.07099229597815],[-72.40132568582415,-14.07090351929247],[-72.40094683617352,-14.07086068463343],[-72.40067758845429,-14.07074152306176],[-72.40035949756845,-14.07058786919306],[-72.39999152273677,-14.07049185340323],[-72.39959042627551,-14.07041968946553],[-72.39876656192226,-14.07039138853531],[-72.39736610624904,-14.07040049815037],[-72.39657412148891,-14.07045013189964],[-72.39617560034503,-14.0705184609063],[-72.39487789954168,-14.07086787385965],[-72.39422409652067,-14.07103037281886]]]},"properties":{"Name":"","descriptio":"","timestamp":"","begin":"","end":"","altitudeMo":"","tessellate":-1,"extrude":0,"visibility":-1,"drawOrder":null,"icon":""}}
				]}, { featureProjection: 'EPSG:3857' }
			)
		});
		  
		var huella = new ol.layer.Vector({
			source: huellaSource,
			style: new ol.style.Style({
				stroke: new ol.style.Stroke({
					color: '#000000',
					width: 4
				}),
				fill: new ol.style.Fill({
					color: 'rgba(230, 108, 55, 0.5)'
				})
			}),
			title: 'Huella - Sectores',
			visible: true
		});
		
		var ciudad1Source = new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(
			  {"type":"FeatureCollection", "features": [
				 {
				  "type": "Feature",
				  "properties": {
					"NOMBRE": "Cconccacca",
					"DESCRIPCION": "Ciudad 1"
				  },
				  "geometry": {
					"type": "Point",
					"coordinates": [-72.400858, -14.065557]
				  }
				}
				]}, { featureProjection: 'EPSG:3857' }
			)
		});
		  
		var ciudad1 = new ol.layer.Vector({
		  source: ciudad1Source,
		  style: new ol.style.Style({
			image: new ol.style.Circle({
			  radius: 7,
			  fill: new ol.style.Fill({ color: '#fccc05' }),
			  stroke: new ol.style.Stroke({ color: '#ffffff', width: 2 })
			}),
			text: new ol.style.Text({
			  text: 'punto1',
			  offsetY: -15,
			  font: 'bold 12px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 })
			})
		  }),
		  title: 'Ciudad 1',
		  visible: true
		});
		
		var ciudad2Source = new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(
			  {"type":"FeatureCollection", "features": [
				 {
				  "type": "Feature",
				  "properties": {
					"NOMBRE": "Cconccacca",
					"DESCRIPCION": "Ciudad 2"
				  },
				  "geometry": {
					"type": "Point",
					"coordinates": [-72.397745, -14.066345]
				  }
				}
				]}, { featureProjection: 'EPSG:3857' }
			)
		});
		  
		var ciudad2 = new ol.layer.Vector({
		  source: ciudad2Source,
		  style: new ol.style.Style({
			image: new ol.style.Circle({
			  radius: 7,
			  fill: new ol.style.Fill({ color: '#fccc05' }),
			  stroke: new ol.style.Stroke({ color: '#ffffff', width: 2 })
			}),
			text: new ol.style.Text({
			  text: 'punto2',
			  offsetY: -15,
			  font: 'bold 12px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 })
			})
		  }),
		  title: 'Ciudad 2',
		  visible: true
		});

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //		

		// Grupo de CAPAS BASE
		var baseLayerGroup = new ol.layer.Group({
			title: 'CAPAS BASE',
			fold: 'open',
			layers: [osmLayer, worldImagery]
		});

		// Grupo de CAPAS WMS
		var overlayLayerGroup = new ol.layer.Group({
			title: 'CARTOGRAFÍA BASE',
			fold: 'open',
			layers: [cc_pamputa, cc_cconccaca, p_benef, huella, ciudad1, ciudad2]
		});

		// Crear el mapa uniendos los GRUPOS de CAPAS
		var map = new ol.Map({
			target: 'map',
			layers: [baseLayerGroup, overlayLayerGroup],
			view: vista
		});
		
		//-------------- PAMPUTA - BENEF ---------------------------------------------------------------
		
		// --- [1] Coordenadas originales (EPSG:4326) ---
		var coordPamputa = [-72.37661504778067, -13.98565798192689];
		var coordBenef = [-72.35187454578, -13.9730675958775];

		// --- [2] Convertir a EPSG:3857 (para mostrar en el mapa) ---
		var pamputa3857 = ol.proj.fromLonLat(coordPamputa);
		var benef3857 = ol.proj.fromLonLat(coordBenef);

		// --- [3] Crear la línea que conecta ambos puntos ---
		var lineFeature = new ol.Feature({
		  geometry: new ol.geom.LineString([pamputa3857, benef3857]),
		  name: 'Distancia Pamputa - Benef'
		});

		// --- [4] Calcular la distancia geodésica (en km) ---
		var distanciaMetros = ol.sphere.getDistance(coordPamputa, coordBenef);
		var distanciaKm = (distanciaMetros / 1000).toFixed(2);

		// --- [5] Crear la capa con estilo de línea y etiqueta ---
		var lineLayer1= new ol.layer.Vector({
		  source: new ol.source.Vector({
			features: [lineFeature]
		  }),
		  style: new ol.style.Style({
			stroke: new ol.style.Stroke({
			  color: '#ff0000',
			  width: 2
			}),
			text: new ol.style.Text({
			  text: distanciaKm + ' km',
			  font: 'bold 13px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 }),
			  placement: 'line',
			  textAlign: 'center'
			})
		  }),
		  title: 'Distancia Pamputa - Benef'
		});

		// --- [6] Añadir la capa al grupo de CARTOGRAFÍA BASE ---
		overlayLayerGroup.getLayers().push(lineLayer1);
		
		//-------------- PAMPUTA - PUNTO1 ---------------------------------------------------------------
		
		// --- [1] Coordenadas originales (EPSG:4326) ---
		var coordPamputa = [-72.37661504778067, -13.98565798192689];
		var coordPunto1 = [-72.400858, -14.065557];

		// --- [2] Convertir a EPSG:3857 (para mostrar en el mapa) ---
		var pamputa3857 = ol.proj.fromLonLat(coordPamputa);
		var punto13857 = ol.proj.fromLonLat(coordPunto1);

		// --- [3] Crear la línea que conecta ambos puntos ---
		var lineFeature = new ol.Feature({
		  geometry: new ol.geom.LineString([pamputa3857, punto13857]),
		  name: 'Distancia Pamputa - Punto1'
		});

		// --- [4] Calcular la distancia geodésica (en km) ---
		var distanciaMetros = ol.sphere.getDistance(coordPamputa, coordPunto1);
		var distanciaKm = (distanciaMetros / 1000).toFixed(2);

		// --- [5] Crear la capa con estilo de línea y etiqueta ---
		var lineLayer2= new ol.layer.Vector({
		  source: new ol.source.Vector({
			features: [lineFeature]
		  }),
		  style: new ol.style.Style({
			stroke: new ol.style.Stroke({
			  color: '#ff0000',
			  width: 2
			}),
			text: new ol.style.Text({
			  text: distanciaKm + ' km',
			  font: 'bold 13px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 }),
			  placement: 'line',
			  textAlign: 'center'
			})
		  }),
		  title: 'Distancia Pamputa - Punto1'
		});

		// --- [6] Añadir la capa al grupo de CARTOGRAFÍA BASE ---
		overlayLayerGroup.getLayers().push(lineLayer2);
		
		//-------------- CCONCCACCA - PUNTO2 ---------------------------------------------------------------
		
		// --- [1] Coordenadas originales (EPSG:4326) ---
		var coordCconccacca = [-72.3562715960565, -14.1451296734515];
		var coordPunto2 = [-72.397745, -14.066345];

		// --- [2] Convertir a EPSG:3857 (para mostrar en el mapa) ---
		var cconccacca3857 = ol.proj.fromLonLat(coordCconccacca);
		var punto23857 = ol.proj.fromLonLat(coordPunto2);

		// --- [3] Crear la línea que conecta ambos puntos ---
		var lineFeature = new ol.Feature({
		  geometry: new ol.geom.LineString([cconccacca3857, punto23857]),
		  name: 'Distancia Pamputa - Punto1'
		});

		// --- [4] Calcular la distancia geodésica (en km) ---
		var distanciaMetros = ol.sphere.getDistance(coordCconccacca, coordPunto2);
		var distanciaKm = (distanciaMetros / 1000).toFixed(2);

		// --- [5] Crear la capa con estilo de línea y etiqueta ---
		var lineLayer3= new ol.layer.Vector({
		  source: new ol.source.Vector({
			features: [lineFeature]
		  }),
		  style: new ol.style.Style({
			stroke: new ol.style.Stroke({
			  color: '#ff0000',
			  width: 2
			}),
			text: new ol.style.Text({
			  text: distanciaKm + ' km',
			  font: 'bold 13px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 }),
			  placement: 'line',
			  textAlign: 'center'
			})
		  }),
		  title: 'Distancia Pamputa - Punto2'
		});
		
		// --- [6] Añadir la capa al grupo de CARTOGRAFÍA BASE ---
		overlayLayerGroup.getLayers().push(lineLayer3);
		
		//-------------- CCONCCACCA - BENEF ---------------------------------------------------------------
		
		// --- [1] Coordenadas originales (EPSG:4326) ---
		var coordCconccacca = [-72.3562715960565, -14.1451296734515];
		var coordBenef = [-72.35187454578, -13.9730675958775];

		// --- [2] Convertir a EPSG:3857 (para mostrar en el mapa) ---
		var cconccacca3857 = ol.proj.fromLonLat(coordCconccacca);
		var benef3857 = ol.proj.fromLonLat(coordBenef);

		// --- [3] Crear la línea que conecta ambos puntos ---
		var lineFeature = new ol.Feature({
		  geometry: new ol.geom.LineString([cconccacca3857, benef3857]),
		  name: 'Distancia Pamputa - Punto1'
		});

		// --- [4] Calcular la distancia geodésica (en km) ---
		var distanciaMetros = ol.sphere.getDistance(coordCconccacca, coordBenef);
		var distanciaKm = (distanciaMetros / 1000).toFixed(2);

		// --- [5] Crear la capa con estilo de línea y etiqueta ---
		var lineLayer4= new ol.layer.Vector({
		  source: new ol.source.Vector({
			features: [lineFeature]
		  }),
		  style: new ol.style.Style({
			stroke: new ol.style.Stroke({
			  color: '#ff0000',
			  width: 2
			}),
			text: new ol.style.Text({
			  text: distanciaKm + ' km',
			  font: 'bold 13px Arial',
			  fill: new ol.style.Fill({ color: '#000' }),
			  stroke: new ol.style.Stroke({ color: '#fff', width: 3 }),
			  placement: 'line',
			  textAlign: 'center'
			})
		  }),
		  title: 'Distancia Pamputa - Benef'
		});
		
		// --- [6] Añadir la capa al grupo de CARTOGRAFÍA BASE ---
		overlayLayerGroup.getLayers().push(lineLayer4);

		// Añadir control de capas LayerSwitcher
		var layerSwitcher = new ol.control.LayerSwitcher({
			tipLabel: 'Leyenda',
			collapseTipLabel: 'Ocultar Leyenda',
			reverse: false
		});
		map.addControl(layerSwitcher);

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //	



		
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //	
		// [ SECCIÓN BOTONES / HERRAMIENTAS ]
		
		// Crear capa vectorial para dibujar la medición
		var draw;
		var source = new ol.source.Vector();
		var vectorLayer = new ol.layer.Vector({
			source: source,
			style: new ol.style.Style({
				stroke: new ol.style.Stroke({
					color: 'rgba(0, 153, 255, 0.8)', // Azul celeste semitransparente
					width: 3, // Mismo grosor que el modo de edición
					lineCap: 'round', // Bordes redondeados
					lineJoin: 'round' // Uniones redondeadas
				})
			})
		});
		map.addLayer(vectorLayer);
		
		var isMeasuring = false; // Variable de estado
		var measureTooltip; // Elemento HTML para mostrar la distancia en tiempo real

		// Función para crear la caja flotante dentro del botón
		function createMeasureTooltip() {
			if (measureTooltip) {
				measureTooltip.remove();
			}

			measureTooltip = document.createElement('div');
			measureTooltip.className = 'measure-tooltip';
			measureTooltip.innerHTML = '<p class="measure-title">Resultado de la medición</p> <p id="distance-value">0 km</p>';
			measureButton.appendChild(measureTooltip);
		}

		// Función para actualizar la medición en tiempo real
		function addInteraction() {
			draw = new ol.interaction.Draw({
				source: source,
				type: 'LineString'
			});

			var sketch;
			draw.on('drawstart', function(event) {
				sketch = event.feature;
				createMeasureTooltip();

				sketch.getGeometry().on('change', function(evt) {
					var geom = evt.target;
					var length = ol.sphere.getLength(geom);
					measureTooltip.innerHTML = '<p class="measure-title">Resultado de la medición</p> <p id="distance-value">' + (length / 1000).toFixed(2) + ' km';
				});
			});

			draw.on('drawend', function(event) {
				var length = ol.sphere.getLength(event.feature.getGeometry());
				measureTooltip.innerHTML = '<p class="measure-title">Resultado de la medición</p> <p id="distance-value">' + (length / 1000).toFixed(2) + ' km';
			});

			map.addInteraction(draw);
		}

		// Crear el contenedor del control
		var controlContainer = document.createElement('div');
		controlContainer.className = 'measure-btn';
		controlContainer.style.position = 'absolute';
		controlContainer.style.left = '8px'; // Alineado con los botones de zoom
		controlContainer.style.top = '90px'; // Ajusta según la altura de los botones de zoom

		// Crear el botón 📏 con la clase measure-btn
		var measureButton = document.createElement('button');
		measureButton.innerHTML = '<i class="fa-solid fa-ruler" style="color: #ffffff;"></i>';
		measureButton.title = 'Medir distancia';
		measureButton.className = 'measure-btn'; // Aplica la clase de estilo

		// Agregar evento al botón
		measureButton.addEventListener('click', function () {
			if (isMeasuring) {
				// Desactivar la medición
				map.removeInteraction(draw);
				source.clear();
				measureTooltip.remove(); // Eliminar la cajetilla
				isMeasuring = false;
			} else {
				// Activar la medición
				addInteraction();
				createMeasureTooltip(); // Crear la caja flotante
				isMeasuring = true;
			}
		});

		// Agregar el botón al control del mapa
		controlContainer.appendChild(measureButton);
		map.addControl(new ol.control.Control({ element: controlContainer }));
		
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
		
		// Crear el contenedor del control
		var controlContainer = document.createElement('div');
		controlContainer.className = 'home-btn';
		controlContainer.style.position = 'absolute';
		controlContainer.style.left = '8px'; // Alineado con los botones de zoom
		controlContainer.style.top = '130px'; // Ajusta según la altura de los botones de zoom
		
		// Crear el botón 🏠 con la clase home-btn
		var homeButton = document.createElement('button');
		homeButton.innerHTML = '<i class="fa-solid fa-house" style="color: #ffffff;"></i>';
		homeButton.title = 'Vista Inicial';
		homeButton.className = 'home-btn';

		// Agregar evento al botón
		homeButton.addEventListener('click', function() {
			var boundary = [-8064517.333113, -1597810.975388, -8053376.636241, -1591820.223296]; // Extent
			map.getView().fit(boundary, { duration: 500 }); // Ajusta la vista suavemente en 1s
		});
		
		// Agregar el botón al control del mapa
		controlContainer.appendChild(homeButton);
		map.addControl(new ol.control.Control({ element: controlContainer }));
		
// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
		
		// Variables de estado
		var isShowingCoords = false;
		var fixedCoord = null; // Para almacenar la coordenada fija
		var coordTooltip;
		var vectorSource = new ol.source.Vector();
		var vectorLayer = new ol.layer.Vector({
			source: vectorSource,
			style: new ol.style.Style({
				image: new ol.style.Circle({
					radius: 4,
					fill: new ol.style.Fill({ color: '#8cc4ff' }),
					stroke: new ol.style.Stroke({ color: '#0056b3', width: 2 })
				})
			})
		});
		map.addLayer(vectorLayer);

		// Función para crear la cajetilla
		function createCoordTooltip() {
			if (coordTooltip) {
				coordTooltip.remove();
			}

			coordTooltip = document.createElement('div');
			coordTooltip.className = 'fix-tooltip';
			coordTooltip.innerHTML = `
				<p class="fix-title">Coordenadas</p> 
				<p><i class="fa-solid fa-arrow-pointer" style="color: #000000;"></i>&nbsp; &nbsp;<span id="live-coord">Mueve el cursor...</span></p>
				<p><i class="fa-regular fa-circle" style="color: #0056b3;"></i>&nbsp; &nbsp;<span id="fixed-coord">Haz clic en el mapa...</span></p>
			`;

			coordButton.appendChild(coordTooltip);
		}

		// Evento para actualizar coordenadas en tiempo real
		map.on('pointermove', function (event) {
			if (isShowingCoords) {
				var coord = ol.proj.toLonLat(event.coordinate);
				document.getElementById('live-coord').innerHTML = `${coord[0].toFixed(6)}, ${coord[1].toFixed(6)}`;
			}
		});

		// Evento para fijar la coordenada al hacer clic y dibujar un punto
		map.on('click', function (event) {
			if (isShowingCoords) {
				fixedCoord = ol.proj.toLonLat(event.coordinate);
				document.getElementById('fixed-coord').innerHTML = `${fixedCoord[0].toFixed(6)}, ${fixedCoord[1].toFixed(6)}`;
				
				// Crear la característica del punto
				var pointFeature = new ol.Feature({
					geometry: new ol.geom.Point(event.coordinate)
				});
				vectorSource.clear(); // Limpiar puntos anteriores
				vectorSource.addFeature(pointFeature); // Agregar nuevo punto
			}
		});

		// Crear el contenedor del control
		var coordControlContainer = document.createElement('div');
		coordControlContainer.className = 'fix-btn';
		coordControlContainer.style.position = 'absolute';
		coordControlContainer.style.left = '8px';
		coordControlContainer.style.top = '170px';

		// Crear el botón 📍 con la clase fix-btn
		var coordButton = document.createElement('button');
		coordButton.innerHTML = '<i class="fa-solid fa-location-dot" style="color: #ffffff;"></i>';
		coordButton.title = 'Mostrar coordenadas';
		coordButton.className = 'fix-btn';

		// Agregar evento al botón
		coordButton.addEventListener('click', function () {
			if (isShowingCoords) {
				coordTooltip.remove(); // Eliminar la cajetilla
				isShowingCoords = false;
				fixedCoord = null; // Resetear coordenada fija al cerrar
				vectorSource.clear(); // Limpiar el punto al desactivar
			} else {
				createCoordTooltip(); // Crear la cajetilla
				isShowingCoords = true;
			}
		});

		// Agregar el botón al control del mapa
		coordControlContainer.appendChild(coordButton);
		map.addControl(new ol.control.Control({ element: coordControlContainer }));

// ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
		
		let isLegendVisible = false;
		let legendTooltip;
		
		const showLegendButton = false;

		// Crear el contenedor del control
		var controlContainer = document.createElement('div');
		controlContainer.className = 'legend-btn';
		controlContainer.style.position = 'absolute';
		controlContainer.style.left = '8px'; // Alineado con los botones de zoom
		controlContainer.style.top = '210px'; // Ajusta según la altura de los botones de zoom

		// Crear botón para la leyenda
		
		if (showLegendButton) {
		const legendButton = document.createElement('button');
		legendButton.innerHTML = '<i class="fas fa-layer-group"></i>';
		legendButton.title = 'Mostrar leyenda';
		legendButton.className = 'legend-btn'; // Asegúrate de usar estilos coherentes

		legendButton.onclick = function () {
			isLegendVisible = !isLegendVisible;

			if (isLegendVisible) {
				createLegendTooltip();
			} else {
				if (legendTooltip) {
					legendTooltip.style.display = 'none'; // Ocultamos el tooltip si ya está visible
				}
			}
		};

		function createLegendTooltip() {
			if (legendTooltip) {
				// Si ya existe, solo la mostramos
				legendTooltip.style.display = 'block';
			} else {
				// Crear el contenedor para la leyenda si no existe
				legendTooltip = document.createElement('div');
				legendTooltip.className = 'legend-tooltip';

				// Añadir el contenido con un selector para elegir la leyenda
				legendTooltip.innerHTML = `
					<p>Selecciona la capa para ver su leyenda:</p>
					<select id="legendSelector">
						<option value="layer1">Layer 1</option>
						<!-- <option value="layer2">Tendencia de Temp. Máxima</option> -->
					</select>
					<div id="legendContainer">
						<!-- <img src="https://idesep.senamhi.gob.pe/geoserver/g_01_06/ows?service=WMS&request=GetLegendGraphic&format=image/png&width=20&height=20&layer=01_06_001_03_001_512_0000_00_00" alt="Leyenda de la capa 1" id="legendImage"> -->
					</div>
				`;

				// Aseguramos que el selector se ha añadido al DOM antes de asignar el evento
				const legendSelector = legendTooltip.querySelector('#legendSelector');

				// Añadir evento para cambiar la leyenda según el selector
				legendSelector.addEventListener('change', function(event) {
					const selectedLayer = event.target.value;
					const legendImage = document.getElementById('legendImage');

					if (selectedLayer === 'layer1') {
						legendImage.src = 'https://idesep.senamhi.gob.pe/geoserver/g_01_06/ows?service=WMS&request=GetLegendGraphic&format=image/png&width=20&height=20&layer=01_06_001_03_001_512_0000_00_00';
					} else if (selectedLayer === 'layer2') {
						legendImage.src = 'https://idesep.senamhi.gob.pe/geoserver/g_06_10/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=06_10_006_03_001_512_0000_00_00';
					}
				});

				// Añadir el tooltip al contenedor del control
				controlContainer.appendChild(legendTooltip);
			}
		}

		// Agregar el botón al mapa
		const legendControl = new ol.control.Control({
			element: legendButton
		});

		// Agregar el botón al control del mapa
		controlContainer.appendChild(legendButton);
		map.addControl(new ol.control.Control({ element: controlContainer }));
		
		}
			
	</script>
  </body>
</html>
